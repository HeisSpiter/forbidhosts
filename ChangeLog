2014-12-05  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHosts.cpp: Always zero inotify_event len field to prevent attempts to read random len of data from inotify.

2014-12-03  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHosts.cpp: Fix the reinit of the inotify watch for the log file. We only watch modifications.

2014-11-30  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHosts.cpp: Rewrite handling of auth.log rotation. We'll now watch the parent directory and wait for the create event for auth.log.
    * ForbidHosts.cpp: Properly quit in case we cannot watch again the auth.log

2014-11-24  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHosts.cpp: Addendum to 1289eab: also reset iNotify watch when auth.log is rotated. Otherwise we keep watching the wrong file (on a closed FD!).
    * ForbidHosts.cpp: Properly delete iNotify watch on close.

2014-11-19  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHosts.cpp: Fix handling of IPv6 when adding to hosts.deny. This fixes incorrect syntax in the file.
    * ForbidHosts.cpp: Handle name resolution failure: display unknown instead of empty/garbish string.

2014-10-07  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHosts.cpp: When using inotify, handle auth.log deletion/moving. This is to keep ForbidHosts functionnal even after a log rotate.
    * ForbidHosts.cpp: Read complete inotify event when available

2014-09-30  Pierre Schweitzer <pierre@reactos.org>

    * Makefile.am: Enable a few more warnings
    * ForbidHosts.cpp: Fix the new warnings
    * ForbidHosts.cpp: Simplify code for IP lookup
    * ForbidHosts.cpp: Fix last cppcheck warnings
    * Makefile.am: Build with debug symbols by default

2014-09-09  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHosts.cpp: Don't prune host entry while it is being written to hosts.deny. This fixes the bug when a host was added several times to the file.
      Now hosts will be pruned later on, on their expiry time, which will be extended to prevent the host is prunned before it was properly and completely handled.
      This allows changing the way hosts are handled when added to hosts.deny that will give a small boost in performances.

2014-09-05  Pierre Schweitzer <pierre@reactos.org>

    * configure.ac: Complete the configure script
    * ForbidHosts.cpp: Get the hostname of the machine to include it in mails header.
    * ForbidHosts.cpp: Fix a bug with name resolutions for IPv4 where it was improperly handled.

2014-09-04  Pierre Schweitzer <pierre@reactos.org>

    * Allow the daemon to be packaged for Ubuntu (precise, so far)
    * Makefile.am: Make the daemon a sbin executable

2014-08-27  Pierre Schweitzer <pierre@reactos.org>

    * Renamed project to ForbidHosts

2014-08-26  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHostsv6.cpp: Fix performance issue with HostIPv6 initialization
    * ForbidHostsv6.cpp: Reduce a variable scope
    * ForbidHostsv6.cpp: Add optional support for IPv4 adresses.
      To enable it, use --enable-ipv4 during configure phase.
    * ForbidHostsv6.cpp: Also implement support for zombies. This will prevent daemon from leaking child processes.
    * ForbidHostsv6.cpp: Rewrite signals management to more up to date API.
    * ForbidHostsv6.cpp: Add missing header

2012-05-13  Pierre Schweitzer <pierre@reactos.org>

    * ForbidHostsv6.cpp: Fix a bug with syslog output
    * ForbidHostsv6.cpp: Add new functions and associated macros to have asserts that write their result to syslog.
      Those assert can be either soft or hard, if hard the deamon quits.
    * ForbidHostsv6.cpp: Use them instead of ignoring the return of some functions.
    * ForbidHostsv6.cpp: Fix a bug in connections attempts count
    * ForbidHostsv6.cpp: Fix a bug in line parsing
    * ForbidHostsv6.cpp: Add support for the line repetitions in auth log
    * ForbidHostsv6.cpp: Add support for reading more than one line at a time
